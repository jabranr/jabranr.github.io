
  



  

<!doctype html>
<html lang="en" xmlns:fb="http://ogp.me/ns/fb#">
  <head>
    <meta charset="UTF-8" />
    <title>Secret sauces of Git - Jabran Rafique</title>
    <meta name="description" content="Full Stack Web Engineer, currently Front-End Tech Lead at Rated People" />
    <meta name="keywords" content="blog, jabran, rafique, html, css, javascript, react, php, full stack, front-end" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Secret sauces of Git - Jabran Rafique" />
    <meta property="og:description" content="Full Stack Web Engineer, currently Front-End Tech Lead at Rated People" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@jabranr">
    <meta name="twitter:creator" content="@jabranr">
    <meta name="twitter:title" content="Secret sauces of Git - Jabran Rafique">
    <meta name="twitter:description" content="Full Stack Web Engineer, currently Front-End Tech Lead at Rated People">
    <meta property="og:image" content="https://jabran.me/assets/images/icon-1024x1024.png" />
    <meta name="twitter:image" content="https://jabran.me/assets/images/icon-1024x1024.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="msapplication-TileImage" content="https://jabran.me/assets/images/apple-touch-icon-114x114.png" />
    <meta name="theme-color" content="#f55555" />
    
      <meta property="robots" content="all" />
      <meta property="og:url" content="https://jabran.me/articles/secret-sauces-of-git/">
      <link rel="canonical" href="https://jabran.me/articles/secret-sauces-of-git/" />
    
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="preconnect" href="https://www.google-analytics.com" />
    <link rel="manifest" href="https://jabran.me/manifest.json?v=1628916222396" />
    <link rel="icon" type="image/x-icon" href="https://jabran.me/assets/images/favicon.ico" />
    <link rel="apple-touch-icon" href="https://jabran.me/assets/images/apple-touch-icon-114x114.png" />

    <link href="https://jabran.me/assets/css/normalize.css?v=1628916222396" rel="stylesheet" />
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
    <link href="https://jabran.me/assets/css/styles.css?v=1628916222396" rel="stylesheet" />


    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MHKHDT');</script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MHKHDT"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div class="wrapper">
      <header class="header container-fluid">
        <section class="container header_inner">
          
            <a class="h1 logo" href="/">Jabran Rafique</a>
          
        </section>
      </header>
      <main class="main">



<section class="container breadcrumbs">
  <a href="/">Home</a> &rsaquo; <a href="/articles/">Articles</a>
</section>

<section class="container-fluid">
  <section class="container post">
    <h1 class="article_header underlined">Secret sauces of Git</h1>
    <time datetime="2016-06-10" class="article_time">
      June 10, 2016 &bull; 3 minutes read
    </time>
    <section class="article_content">
      <p class="lead">Git is an essential part of my daily workflow. There are certain awkward situations that require use of certain Git commands that are normally not part of regular workflows.</p>
<p>As part of agile workflow at <a href="http://ratedpeople.com">Rated People</a> we use <a href="http://atlassian.com/jira">Atlassian JIRA</a> – tightly coupled with many other integrated technologies – all together making a combined workflow of TDD, CD and CI. To make sure JIRA tickets are tracked correctly we enforce that each commit message should include JIRA ticket number in it. On failing to do so developers get an error and not able to push changes to remote.</p>
<h3>Update last commit message:</h3>
<p>Let's say, I forgot to add JIRA ticket number in a commit that I just finalised. Now I cannot push the changes until commit message is updated with a JIRA ticket number. In such situation, to edit most recent commit message I use following Git command:</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> commit --amend</code></pre>
<p>This will open commit message in default Git editor where I can edit the commit message and save the changes. Now I can push the latest commits with no problem.</p>
<blockquote>
<p>You can set a default Git editor using <code>$ git config --global core.editor {editor_name}</code> where replace <code>editor_name</code> with correct editor name i.e. vim, pico, nano etc.</p>
</blockquote>
<h3>Update few commit messages:</h3>
<p>But sometimes when I have some <a href="http://soundcloud.com/jabran-rafique">good music</a> going in the headphones, I may randomly forget to add JIRA ticket number in multiple commit messages. In such case, above command to amend the last commit message is not useful anymore. Instead following command that uses <code>rebase</code> with a flag and number of commits to amend works better:</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> rebase -i HEAD~<span class="token punctuation">{</span>n<span class="token punctuation">}</span></code></pre>
<p>Where <code>n</code> is number of commits to be listed. Here comes the interesting part as this command is completed in following two steps:</p>
<h4>Step 1</h4>
<p>Opens a list of specified number of commits in default editor in following format.</p>
<pre class="language-bash"><code class="language-bash">pick commit_hash commit_message</code></pre>
<p>To update a commit message, we replace <code>pick</code> with <code>reword</code> and above line becomes:</p>
<pre class="language-bash"><code class="language-bash">reword commit_hash commit_message</code></pre>
<blockquote>
<p>Beware that removing a complete line will result in lost of commit.</p>
</blockquote>
<p>At the bottom it also lists out all the available options.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Commands:</span><br><span class="token comment"># p, pick = use commit</span><br><span class="token comment"># r, reword = use commit, but edit the commit message</span><br><span class="token comment"># e, edit = use commit, but stop for amending</span><br><span class="token comment"># s, squash = use commit, but meld into previous commit</span><br><span class="token comment"># f, fixup = like "squash", but discard this commit's log message</span><br><span class="token comment"># x, exec = run command (the rest of the line) using shell</span></code></pre>
<p>Saving the changes completes step 1 and enters into step 2.</p>
<h4>Step 2</h4>
<p>Each commit prefixed with word <code>reword</code> will open one after each other where commit messages can be updated as required. Save and exit to update the commit messages.</p>
<h3>Pushing updated commit messages:</h3>
<p>Now like me, if you were too quick to push the changes to remote then you cannot push any changes made to the commits using one of the above methods. Use <code>--force</code> flag to push changes to remote with updated commits.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> push origin HEAD --force</code></pre>
<h3>Remove remote branch:</h3>
<p>Sometimes we create unwanted or wrong branches in remote but unable to delete those – perhaps due to limited permissions. Use following Git command to permanently delete a branch in remote:</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> push origin --delete <span class="token punctuation">{</span>branch_name<span class="token punctuation">}</span></code></pre>
<blockquote>
<p>Beware that this action CANNOT be undone. A branch deleted from remote cannot easily be recovered so proceed with caution and backup branches first.</p>
</blockquote>
<h3>Add changes to finalised commit:</h3>
<p>Sometimes we finalise commits only to realise that there were few more changes that could have been part of the same commit. Enter Git soft reset:</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> reset --soft HEAD~<span class="token punctuation">{</span>n<span class="token punctuation">}</span></code></pre>
<p>Where <code>n</code> is a number of one finalised commit message that will be reset softly. Once done with further changes use following command to finalise the commit again by retaining the existing commit message.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> commit -c ORIG_MSG</code></pre>
<h3>Fancy Git log:</h3>
<p>A last but not lease and my favourite Git log command is combination of multiple flags that outputs an interactive view of Git history.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">git</span> log -<span class="token punctuation">{</span>n<span class="token punctuation">}</span> --oneline --stats --color --graph --pretty</code></pre>
<p>Where <code>n</code> is number of commits to be shown as part of the log.</p>

    </section>

    
      <section class="more-pagination">
        <h3 class="more-pagination_heading">More articles</h3>
        <section class="more-pagination_content">
          <a rel="prev" class="more-pagination_prev" href="/articles/css-pseudo-elements/"><span class="more-pagination_guide">&laquo;</span> CSS pseudo elements</a>
          <a rel="next" class="more-pagination_next" href="/articles/using-dry-in-symfony2-entities/">Using DRY concept in Symfony2 Entities <span class="more-pagination_guide">&raquo;</span></a>
        </section>
      </section>
    
  </section>
</section>
</main>
      <footer class="footer container-fluid">
        <div class="container footer_inner">
          <div>
            <p>&copy; 2012 &ndash; present</p>
            <div class="colophone bullets">
              <a target="_blank" rel="noopener noreferrer" href="https://www.twitter.com/jabranr">Twitter</a>
              <a target="_blank" rel="noopener noreferrer" href="https://github.com/jabranr">GitHub</a>
              <a target="_blank" rel="noopener noreferrer" href="https://google.com/mapmaker?gw=66&amp;uid=208599960765438642668">Google Map Maker</a>
              <a href="mailto:hello@jabran.me">Contact</a>
              <a href="/sitemap.xml">RSS</a>
            </div>
            <p><span class="heart">&hearts;</span> I like to develop on ideas that are useful and beneficial to everyone. All contents and code samples are licensed under the MIT License unless stated otherwise.</p>
            <hr />
            <p>This website uses cookies to deliver better user experience. By continuing to use this website you agree to the use of cookies.</p>
          </div>
          
        </div>
      </footer>
    </div>
    
  </body>
</html>
