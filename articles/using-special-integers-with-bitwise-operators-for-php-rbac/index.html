
  



  

<!doctype html>
<html lang="en" xmlns:fb="http://ogp.me/ns/fb#">
  <head>
    <meta charset="UTF-8" />
    <title>Using Special Integers with Bitwise Operators for PHP RBAC - Jabran Rafique</title>
    <meta name="description" content="Full Stack Web Engineer, currently Front-End Tech Lead at Rated People" />
    <meta name="keywords" content="blog, jabran, rafique, html, css, javascript, react, php, full stack, front-end" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Using Special Integers with Bitwise Operators for PHP RBAC - Jabran Rafique" />
    <meta property="og:description" content="Full Stack Web Engineer, currently Front-End Tech Lead at Rated People" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@jabranr">
    <meta name="twitter:creator" content="@jabranr">
    <meta name="twitter:title" content="Using Special Integers with Bitwise Operators for PHP RBAC - Jabran Rafique">
    <meta name="twitter:description" content="Full Stack Web Engineer, currently Front-End Tech Lead at Rated People">
    <meta property="og:image" content="https://jabran.me/assets/images/icon-1024x1024.png" />
    <meta name="twitter:image" content="https://jabran.me/assets/images/icon-1024x1024.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="msapplication-TileImage" content="https://jabran.me/assets/images/apple-touch-icon-114x114.png" />
    <meta name="theme-color" content="#f55555" />
    
      <meta property="robots" content="all" />
      <meta property="og:url" content="https://jabran.me/articles/using-special-integers-with-bitwise-operators-for-php-rbac/">
      <link rel="canonical" href="https://jabran.me/articles/using-special-integers-with-bitwise-operators-for-php-rbac/" />
    
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="preconnect" href="https://www.google-analytics.com" />
    <link rel="manifest" href="https://jabran.me/manifest.json?v=1641656964646" />
    <link rel="icon" type="image/x-icon" href="https://jabran.me/assets/images/favicon.ico" />
    <link rel="apple-touch-icon" href="https://jabran.me/assets/images/apple-touch-icon-114x114.png" />

    <link href="https://jabran.me/assets/css/normalize.css?v=1641656964646" rel="stylesheet" />
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet"></noscript>
    <link href="https://jabran.me/assets/css/styles.css?v=1641656964646" rel="stylesheet" />

    
      <!-- Google Tag Manager -->
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MHKHDT');</script>
      <!-- End Google Tag Manager -->
    
  </head>
  <body>
    
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MHKHDT"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
    
    
    <div class="wrapper">
      <header class="header container-fluid">
        <section class="container header_inner">
          
            <a class="h1 logo" href="/">Jabran Rafique</a>
          
        </section>
      </header>
      <main class="main">



<section class="container breadcrumbs">
  <a href="/">Home</a> &rsaquo; <a href="/articles/">Articles</a>
</section>

<section class="container-fluid">
  <section class="container post">
    <h1 class="article_header underlined">Using Special Integers with Bitwise Operators for PHP RBAC</h1>
    <time datetime="2013-10-11" class="article_time">
      October 11, 2013 &bull; 2 minutes read
    </time>
    <section class="article_content">
      
        <div class="ads">
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4297681002419123" crossorigin="anonymous"></script>
          <!-- Banner ad -->
          <ins class="adsbygoogle"
              style="display:block"
              data-ad-client="ca-pub-4297681002419123"
              data-ad-slot="6682049184"
              data-ad-format="auto"
              data-full-width-responsive="true"></ins>
          <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
      
      <p>Recently, while working on a project that incorporates a custom Content Management System (CMS), I came across building the complex system of <a href="http://en.wikipedia.org/wiki/RBAC">Role-Based Access Control (RBAC)</a>. The core base of these Roles were the permissions of various types i.e. create, modify, remove, read-only etc.</p>
<p>The very first method that came to my mind to build this system was from a book I read a couple of years ago titled as <a href="http://www.wrox.com/WileyCDA/WroxTitle/productCd-0470192429.html">PHP and MySQL Create Modify Reuse</a> published by Wrox Press. This method included the clever use of <a href="http://en.wikipedia.org/wiki/Bitwise_operation">Bitwise Operations</a> to assign one or more permissions to a Role. This was probably the first time when I was interested in Binary system of computing.</p>
<p>Since I had more than 12 types of permissions to assign to various Roles, I thought it would be useful to have a list of special integers in hand. So I made following small PHP function and ran it through browser to get the list of special integers.</p>
<pre class="language-php"><code class="language-php"><span class="token operator">/</span>\<span class="token operator">*</span>\<span class="token operator">*</span><br><br><span class="token operator">-</span> Converts the integer to binary <span class="token keyword">and</span> outputs <span class="token keyword">list</span> of integers that are power of <span class="token number">2</span><br><span class="token operator">-</span> @param<span class="token punctuation">:</span> Integer<br><span class="token operator">-</span> @<span class="token keyword">return</span><span class="token punctuation">:</span> <span class="token keyword type-declaration">String</span><br>  \<span class="token operator">*</span><span class="token operator">/</span><br><br><br>    <span class="token keyword">function</span> <span class="token function-definition function">get_special_binary</span><span class="token punctuation">(</span> <span class="token variable">$decimal</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token variable">$binaries</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>      <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token variable">$decimal</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      	<span class="token variable">$special_num</span> <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token variable">$i</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      	<span class="token variable">$value</span> <span class="token operator">=</span> <span class="token function">str_pad</span><span class="token punctuation">(</span><span class="token function">base_convert</span><span class="token punctuation">(</span><span class="token variable">$special_num</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'0'</span><span class="token punctuation">,</span> <span class="token constant">STR_PAD_LEFT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token variable">$binaries</span> <span class="token operator">.=</span> <span class="token variable">$special_num</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" = "</span> <span class="token operator">.</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" "</span> <span class="token operator">.</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;br>'</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>      <span class="token keyword">return</span> <span class="token variable">$binaries</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br></code></pre>
<p>I thought it might also be helpful for anyone else so I have put it on <a href="https://gist.github.com/jabranr/7406258">Github Gist</a>. Please feel free to use it to do wonders.</p>
<h3>So what exactly are special integers?</h3>
<p>Special integers are special in way because they are power of 2 i.e. <code>2, 4, 8, 16</code> and so on. These special integers return amazing outcome due to their Binary structure when they are used with Bitwise operators. By analysing the following list of integers you can see that these integers (1, 2, 4, 8, 16) have only one digit “1” in their structure when converted to Binary.</p>
<pre class="language-text"><code class="language-text">1 – 0000 0001<br>2 – 0000 0010<br>3 – 0000 0011<br>4 – 0000 0100<br>5 – 0000 0101<br>6 – 0000 0110<br>7 – 0000 0111<br>8 – 0000 1000<br>9 – 0000 1001<br>10 – 0000 1010<br>11 – 0000 1011<br>12 – 0000 1100<br>13 – 0000 1101<br>14 – 0000 1110<br>15 – 0000 1111<br>16 – 0001 0000</code></pre>
<p>So basically when used with Bitwise AND and OR operators, they provide very unique results. For example:</p>
<pre class="language-text"><code class="language-text">0000 0001 — 1<br>AND<br>0000 0010 — 2<br><br>results<br><br>0000 0000 = 0</code></pre>
<p>while:</p>
<pre class="language-text"><code class="language-text">0000 0001 — 1<br>OR<br>0000 0010 — 2<br><br>results<br><br>0000 0011 = 3</code></pre>
<p>Pretty interesting! Hope this was informative. Happy programming!</p>

    </section>

    
      <section class="more-pagination">
        <h3 class="more-pagination_heading">More articles</h3>
        <section class="more-pagination_content">
          <a rel="prev" class="more-pagination_prev" href="/projects/php-library-for-twitter-api-v1-1/"><span class="more-pagination_guide">&laquo;</span> PHP library for Twitter API v1.1</a>
          <a rel="next" class="more-pagination_next" href="/articles/introducing-codepakistan/">Introducing CodePakistan <span class="more-pagination_guide">&raquo;</span></a>
        </section>
      </section>
    
  </section>
</section>
</main>
      <footer class="footer container-fluid">
        <div class="container footer_inner">
          <div>
            <p>&copy; 2012 &ndash; present</p>
            <div class="colophone bullets">
              <a target="_blank" rel="noopener noreferrer" href="https://www.twitter.com/jabranr">Twitter</a>
              <a target="_blank" rel="noopener noreferrer" href="https://github.com/jabranr">GitHub</a>
              <a target="_blank" rel="noopener noreferrer" href="https://google.com/mapmaker?gw=66&amp;uid=208599960765438642668">Google Map Maker</a>
              <a href="mailto:hello@jabran.me">Contact</a>
              <a href="/sitemap.xml">RSS</a>
            </div>
            <p><span class="heart">&hearts;</span> I like to develop on ideas that are useful and beneficial to everyone. All contents and code samples are licensed under the MIT License unless stated otherwise.</p>
            <hr />
            <p>This website uses cookies to deliver better user experience. By continuing to use this website you agree to the use of cookies.</p>
          </div>
          
        </div>
      </footer>
    </div>
    
  </body>
</html>
